<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#0f172a" />
    <meta
      name="description"
      content="Real-Time Student Crowd Management System using DBSCAN Technology and Network Activity Analysis"
    />
    <meta name="author" content="Your Name" />
    <meta name="keywords" content="crowd management, DBSCAN, real-time, socket.io, MERN, network analysis" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Real-Time Crowd Management System" />
    <meta property="og:description" content="Monitor student crowd levels across campus zones in real-time" />
    <meta property="og:image" content="%PUBLIC_URL%/preview.png" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Real-Time Crowd Management System" />
    <meta name="twitter:description" content="Monitor student crowd levels across campus zones in real-time" />
    
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <!-- Preconnect to backend server for faster loading -->
    <link rel="preconnect" href="http://localhost:5000" />
    
    <!-- Favicon alternatives -->
    <link rel="icon" type="image/png" sizes="32x32" href="%PUBLIC_URL%/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="%PUBLIC_URL%/favicon-16x16.png" />
    
    <title>Real-Time Crowd Management System | DBSCAN Technology</title>
    
    <style>
      /* Loading screen styles */
      #loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        transition: opacity 0.5s ease-out;
      }
      
      #loading-screen.hidden {
        opacity: 0;
        pointer-events: none;
      }
      
      .loader {
        width: 60px;
        height: 60px;
        border: 5px solid rgba(59, 130, 246, 0.1);
        border-top: 5px solid #3b82f6;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      .loading-text {
        color: #94a3b8;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        font-size: 18px;
        margin-top: 20px;
        animation: pulse 2s ease-in-out infinite;
      }
      
      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
      }
      
      .loading-logo {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 30px;
        box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
      }
      
      .loading-logo svg {
        width: 50px;
        height: 50px;
        color: white;
      }
      
      /* Prevent flash of unstyled content */
      body {
        margin: 0;
        padding: 0;
        background: #0f172a;
        overflow-x: hidden;
      }
      
      #root {
        min-height: 100vh;
      }
      
      /* Noscript warning */
      .noscript-warning {
        background: #dc2626;
        color: white;
        padding: 20px;
        text-align: center;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      }
    </style>
  </head>
  
  <body>
    <noscript>
      <div class="noscript-warning">
        <strong>JavaScript Required:</strong> You need to enable JavaScript to run this application.
        This is a real-time monitoring system that requires JavaScript for Socket.IO communication.
      </div>
    </noscript>
    
    <!-- Loading Screen -->
    <div id="loading-screen">
      <div class="loading-logo">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
        </svg>
      </div>
      <div class="loader"></div>
      <div class="loading-text">Loading Crowd Management System...</div>
    </div>
    
    <!-- React Root -->
    <div id="root"></div>
    
    <!-- Remove loading screen after React mounts -->
    <script>
      // Hide loading screen when React app is ready
      window.addEventListener('load', function() {
        setTimeout(function() {
          var loadingScreen = document.getElementById('loading-screen');
          if (loadingScreen) {
            loadingScreen.classList.add('hidden');
            setTimeout(function() {
              loadingScreen.remove();
            }, 500);
          }
        }, 1000);
      });
      
      // Check for WebSocket support
      if (!window.WebSocket) {
        alert('Your browser does not support WebSocket. Please upgrade to a modern browser.');
      }
      
      // Performance monitoring
      if ('PerformanceObserver' in window) {
        const observer = new PerformanceObserver((list) => {
          for (const entry of list.getEntries()) {
            if (entry.entryType === 'navigation') {
              console.log('Page Load Time:', entry.loadEventEnd - entry.fetchStart, 'ms');
            }
          }
        });
        observer.observe({ entryTypes: ['navigation'] });
      }
      
      // Service Worker Registration (for PWA - optional)
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('%PUBLIC_URL%/service-worker.js')
            .then(registration => {
              console.log('SW registered:', registration);
            })
            .catch(error => {
              console.log('SW registration failed:', error);
            });
        });
      }
    </script>
    
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
  </body>
</html>